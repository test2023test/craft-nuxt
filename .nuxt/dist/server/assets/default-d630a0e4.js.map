{"version":3,"file":"default-d630a0e4.js","sources":["../../../../components/Header.vue","../../../../components/ModalFeedback.vue","../../../../../../../../images/modal-img1@1x.webp","../../../../../../../../images/modal-img1@2x.webp","../../../../../../../../images/modal-img1@1x.jpg","../../../../../../../../images/modal-img1@2x.jpg","../../../../components/ModalLogin.vue","../../../../components/PhonePanel.vue","../../../../../../../../images/modal-img2@1x.webp","../../../../../../../../images/modal-img2@2x.webp","../../../../../../../../images/modal-img2@1x.jpg","../../../../../../../../images/modal-img2@2x.jpg","../../../../components/ModalCode.vue","../../../../components/ModalUser.vue","../../../../../../../../images/sticker5@1x.webp","../../../../../../../../images/sticker5@2x.webp","../../../../../../../../images/sticker5@1x.jpg","../../../../components/ModalStiker.vue","../../../../components/Footer.vue","../../../../layouts/default.vue"],"sourcesContent":["<template>\n\t<header class=\"header\" >\n\t\t<div class=\"header__container container\">\n\t\t\t<button class=\"header__menu-btn\" aria-label=\"Menu\">\n\t\t\t\t<svg class=\"header__menu-btn-icon header__menu-btn-icon--burger\">\n\t\t\t\t\t<use xlink:href=\"#burger\"></use>\n\t\t\t\t</svg>\n\t\t\t\t<svg class=\"header__menu-btn-icon header__menu-btn-icon--close\">\n\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t</svg>\n\t\t\t</button><NuxtLink class=\"header__logo-link\" to=\"/\"><img class=\"header__logo\" src=\"/images/logo.svg\" alt=\"alt\"/></NuxtLink>\n\t\t\t<nav class=\"header__nav\">\n\t\t\t\t<ul class=\"header__nav-list\">\n\t\t\t\t\t<li class=\"header__nav-elem\"><NuxtLink @click=\"closeBurgerMenu\" class=\"header__nav-link\" to=\"/\">Правила и призы</NuxtLink></li>\n\t\t\t\t\t<li class=\"header__nav-elem\"><NuxtLink @click=\"closeBurgerMenu\" class=\"header__nav-link\" to=\"winners\">Победители</NuxtLink></li>\n\t\t\t\t\t<li class=\"header__nav-elem\"><NuxtLink @click=\"closeBurgerMenu\" class=\"header__nav-link\" to=\"where-to-buy\">Где купить</NuxtLink></li>\n\t\t\t\t\t<li class=\"header__nav-elem\"><NuxtLink @click=\"closeBurgerMenu\" class=\"header__nav-link\" data-modal=\"feedback\">Обратная связь</NuxtLink></li>\n\t\t\t\t</ul>\n\t\t\t\t<NuxtLink v-if=\"store.state.user.isLogin\" to=\"/lk\" class=\"header__user-nav header__user-nav--active header__user-nav--mobile\">\n\t\t\t\t\t<svg class=\"header__user-icon\">\n\t\t\t\t\t\t<use xlink:href=\"#user-icon\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"header__user-nav-box\">\n\t\t\t\t\t\t<p class=\"header__user-name\">{{firstName}}\n\t\t\t\t\t\t{{lastName}}</p>\n\t\t\t\t\t\t<button class=\"header__user-logout\" @click.prevent.stop=\"exit\">Выйти</button>\n\t\t\t\t\t</div>\n\t\t\t\t</NuxtLink>\n\t\t\t</nav>\n\t\t\t<div class=\"header__user-nav\" v-if=\"!store.state.user.isLogin\" data-modal=\"login\">\n\t\t\t\t<a class=\"header__lk-link\" href=\"#\">\n\t\t\t\t\t<span class=\"header__lk-link-text\">Личный кабинет</span>\n\t\t\t\t\t<svg class=\"header__user-icon\">\n\t\t\t\t\t\t<use xlink:href=\"#user-icon\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<NuxtLink to=\"/lk\" class=\"header__user-nav header__user-nav--active\" v-else>\n\t\t\t\t<div class=\"header__user-nav-box\">\n\t\t\t\t\t<p class=\"header__user-name\">\n\t\t\t\t\t\t{{firstName}}\n\t\t\t\t\t\t{{lastName}}\n\t\t\t\t\t</p>\n\t\t\t\t\t<button class=\"header__user-logout\" @click.prevent.stop=\"exit\">Выйти</button>\n\t\t\t\t</div>\n\t\t\t\t<svg class=\"header__user-icon\">\n\t\t\t\t\t<use xlink:href=\"#user-icon\"></use>\n\t\t\t\t</svg>\n\t\t\t</NuxtLink>\n\t\t</div>\n\n\t</header>\n</template>\n<script setup>\n\timport { ref, computed } from \"vue\"\n\timport { useStore } from \"vuex\"\n\tlet store = useStore();\n\tconst exit = ()=>{store.dispatch('user/logOutOfTheSystem')};\n\n\tconst firstName = computed(() => {\n\t\treturn store.state.user.data.firstName === '' ? 'Имя' : store.state.user.data.firstName\n\t})\n\tconst lastName = computed(() => {\n\t\treturn store.state.user.data.lastName === '' ? 'Фамилия' : store.state.user.data.lastName\n\t})\n\n\tfunction closeBurgerMenu()\n\t{\n\t\tif(process.browser){\n\t\t\tlet header = document.querySelector('.header');\n\t\t\theader.classList.add('header--menu-animate')\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (header.classList.contains('header--menu-show')) {\n\t\t\t\t\theader.classList.remove('header--menu-show')\n\t\t\t\t\tdocument.body.style.overflow = ''\n\t\t\t\t} else {\n\t\t\t\t\theader.classList.add('header--menu-show')\n\t\t\t\t\tdocument.body.style.overflow = 'hidden'\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\theader.classList.remove('header--menu-animate')\n\t\t\t\t}, 300)\n\t\t\t})\n\t\t}\n\t}\n\n\n</script>\n<style lang=\"scss\">\n</style>","<template>\n\t<div\n\t\tclass=\"modal\"\n\t\tid=\"feedback\"\n\t\tref=\"modal\"\n\t>\n\t\t<div class=\"modal__body\" :class=\"{'modal--feedback': !isSuccess, 'modal--success': isSuccess}\">\n\t\t\t<div class=\"modal__content\" v-show=\"isSuccess\">\n\t\t\t\t<svg class=\"modal__success-icon\">\n\t\t\t\t\t<use xlink:href=\"#success\"></use>\n\t\t\t\t</svg>\n\t\t\t\t<h2 class=\"modal__title\">Ваше сообщение успешно отправлено!</h2>\n\t\t\t\t<p class=\"modal__subtitle\">Наши менеджеры свяжутся с вами в ближайшее время</p>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn js-modal-close\" \n\t\t\t\t\t@click=\"reset\"\n\t\t\t\t>Отлично!</button>\n\t\t\t</div>\n\t\t\t<div class=\"modal__content\" v-show=\"!isSuccess\">\n\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Обратная связь</h2>\n\t\t\t\t\t\t\t<p class=\"modal__subtitle\">\n\t\t\t\t\t\t\t\tЕсть вопросы?\n\t\t\t\t\t\t\t\t<br class=\"hide-desktop\">Напишите нам, и мы ответим в ближайшее время\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"modal__close js-modal-close\">\n\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form @submit.prevent=\"submit\">\n\t\t\t\t\t\t<div class=\"modal__wrap\" :class=\"{'form-group--error': data.selectTopic.isEmpty}\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<p class=\"form-group__label\">Тема вопроса</p>\n\t\t\t\t\t\t\t\t<div class=\"dropdown\" ref=\"dropdown\">\n\t\t\t\t\t\t\t\t\t<div class=\"dropdown__value-box\">\n\t\t\t\t\t\t\t\t\t\t<input class=\"dropdown__value\" type=\"text\" placeholder=\"Выберите тему\" disabled :value=\"data.selectTopic.title\">\n\t\t\t\t\t\t\t\t\t\t<svg class=\"dropdown__arrow\">\n\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"#dropdown-arrow\"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<ul class=\"dropdown__options-list\">\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"topic of topicsList\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"topic.id\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dropdown__option\"\n\t\t\t\t\t\t\t\t\t\t\t:data-value=\"topic.title\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"data.selectTopic = topic\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{topic.title}}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Поле не должно быть пустым.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\" :class=\"{'form-group--error': data.email.isEmpty}\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">E-mail для ответа</label>\n\t\t\t\t\t\t\t\t<input class=\"form-group__input\" type=\"email\" name=\"email\" placeholder=\"Введите email\" v-model=\"data.email.value\">\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Поле не должно быть пустым.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\" :class=\"{'form-group--error': data.name.isEmpty}\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Имя Фамилия</label>\n\t\t\t\t\t\t\t\t<input class=\"form-group__input\" type=\"text\" name=\"name\" placeholder=\"Введите имя и фамилию\" v-model=\"data.name.value\">\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Поле не должно быть пустым.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\" :class=\"{'form-group--error': data.phone.isEmpty}\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Номер телефона</label>\n\t\t\t\t\t\t\t\t<input ref=\"telTarget\" class=\"form-group__input\" type=\"tel\" name=\"phone\" value=\"+7\"\n\t\t\t\t\t\t\t\t@input=\"(event)=>{data.phone.value = event.target.value}\" >\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Поле не должно быть пустым.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\" :class=\"{'form-group--error': data.message.isEmpty}\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Ваше сообщение</label>\n\t\t\t\t\t\t\t\t<textarea class=\"form-group__input form-group__input--textarea\" name=\"message\" v-model=\"data.message.value\"></textarea>\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Поле не должно быть пустым.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label class=\"checkbox modal__checkbox form-group\" :class=\"{'form-group--error':data.isConsent.isEmpty}\">\n\t\t\t\t\t\t\t<input class=\"checkbox__input\" type=\"checkbox\" v-model=\"data.isConsent.value\">\n\t\t\t\t\t\t\t<span class=\"checkbox__text\">\n\t\t\t\t\t\t\t\tДаю согласие на обработку\n\t\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">персональных данных</a></span>\n\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Объязательное поле</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button class=\"button button--orange button--orange-md modal__btn\">Отправить</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\n\timport { ref } from \"vue\";\n\tconst runtimeConfig = useRuntimeConfig();\n\tlet isSuccess = ref(false),\n\t\ttelTarget = ref(null),\n\t\ttopicsList = ref([]),\n\t\tdata = ref({\n\t\t\tselectTopic: {\n\t\t\t  id: '',\n\t\t\t  title: '' ,\n\t\t\t  isEmpty: false\n\t\t\t},\n\t\t\temail: {\n\t\t\t value: '',\n\t\t\t isEmpty: false\n\t\t\t},\n\t\t\tname: {\n\t\t\t value: '',\n\t\t\t isEmpty: false\n\t\t\t},\n\t\t\tphone: {\n\t\t\t value: '',\n\t\t\t isEmpty: false\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t value: '',\n\t\t\t isEmpty: false\n\t\t\t},\n\t\t\tisConsent:\n\t\t\t{\n\t\t\t\tvalue: false,\n\t\t\t\tisEmpty: false\n\t\t\t}\n\t\t});\n\n\tonMounted(()=>{\n\t\tgetTopics();\n\t});\n\n\tfunction submit()\n\t{\n\t\tif(validateData()){\n\t\t\tfetch(runtimeConfig.public.API_BASE_URL +'/feedback/',\n\t\t\t{\n\t\t\t\tmethod:'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(\n\t\t\t\t{\n\t\t\t\t\t\"topic_id\": data.value.selectTopic.id,\n\t\t\t\t\t\"email\": data.value.email.value,\n\t\t\t\t\t\"full_name\": data.value.name.value,\n\t\t\t\t\t\"phone\": data.value.phone.value,\n\t\t\t\t\t\"message\": data.value.message.value\n\t\t\t\t})\n\t\t\t}).then(async (response)=>{\n\t\t\t\tlet status = await response.json();\n\t\t\t\tif (status.success)\n\t\t\t\t\tisSuccess.value = true;\n\t\t\t})\n\t\t}\n\n\t}\n\tfunction validateData()\n\t{\n\t\tdata.value.selectTopic.isEmpty = !data.value.selectTopic.id;\n\t\tdata.value.email.isEmpty = !data.value.email.value;\n\t\tdata.value.name.isEmpty = !data.value.name.value;\n\t\tdata.value.phone.isEmpty = !data.value.phone.value; \n\t\tdata.value.message.isEmpty = !data.value.message.value;\n\t\tdata.value.isConsent.isEmpty = !data.value.isConsent.value;\n\t\treturn Object.values(data.value).reduce((accum, item)=> accum && !item.isEmpty, true)\n\t}\n\tfunction getTopics() {\n\t\tfetch( runtimeConfig.public.API_BASE_URL + '/feedback-topics/').then( async (data)=>{\n\t\t\tlet dataJson = await data.json();\n\t\t\ttopicsList.value = dataJson.topics;\n\t\t})\n\t}\n\tfunction reset()\n\t{\n\t\tsetTimeout( ()=>{\n\t\t\tisSuccess.value = false;\n\t\t\tdata.value = {\n\t\t\t\tselectTopic: {\n\t\t\t\t\tid: '',\n\t\t\t\t\ttitle: '' ,\n\t\t\t\t\tisEmpty: false\n\t\t\t\t},\n\t\t\t\temail: {\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tisEmpty: false\n\t\t\t\t},\n\t\t\t\tname: {\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tisEmpty: false\n\t\t\t\t},\n\t\t\t\tphone: {\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tisEmpty: false\n\t\t\t\t},\n\t\t\t\tmessage: {\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tisEmpty: false\n\t\t\t\t},\n\t\t\t\tisConsent:\n\t\t\t\t{\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tisEmpty: false\n\t\t\t\t}\n\t\t\t}\n\t\t\ttelTarget.value.value = \"+7\"\n\t\t}, 1000)\n\t}\n\t\n</script>\n<style lang=\"scss\">\n</style>","export default \"__VITE_PUBLIC_ASSET__34e1f420__\"","export default \"__VITE_PUBLIC_ASSET__13ccd6b7__\"","export default \"__VITE_PUBLIC_ASSET__8e7e6e96__\"","export default \"__VITE_PUBLIC_ASSET__c1b46b74__\"","<template>\n\t<div>\n\t\t<div class=\"modal modal--login\" id=\"login\">\n\t\t\t<div class=\"modal__body\">\n\t\t\t\t<div class=\"modal__content modal__content--image-left\"\n\t\t\t\t\tv-show=\"store.state.user.login.step === 1\">\n\t\t\t\t\t<div class=\"modal__img-box\">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset=\"/images/modal-img1@1x.webp, /images/modal-img1@2x.webp 2x\" type=\"image/webp\"/><img class=\"modal__img\" src=\"/images/modal-img1@1x.jpg\" srcset=\"/images/modal-img1@2x.jpg 2x\" alt=\"\"/>\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Вход в личный кабинет</h2>\n\t\t\t\t\t\t\t<button class=\"modal__close\" @click=\"closeModal\">\n\t\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label form-group__label--center\">Введите свой номер телефона</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\tvalue=\"+7\"\n\t\t\t\t\t\t\t\t\t@input=\"inputNumber\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<label class=\"checkbox modal__checkbox\">\n\t\t\t\t\t\t\t\t<input class=\"checkbox__input\" type=\"checkbox\" v-model=\"isConsentToDataProcessing\">\n\t\t\t\t\t\t\t\t<span class=\"checkbox__text\">\n\t\t\t\t\t\t\t\t\tДаю согласие на обработку\n\t\t\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">персональных данных</a></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\"\n\t\t\t\t\t\t\t:disabled=\"!(phoneNumber.length === 16 && isConsentToDataProcessing)\"\n\t\t\t\t\t\t\t@click=\"sendNumber\"\n\t\t\t\t\t\t>Далее</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal__content modal__content--image-left\"\n\t\t\t\t\tv-show=\"store.state.user.login.step === 2\">\n\t\t\t\t\t<div class=\"modal__img-box\">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset=\"/images/modal-img1@1x.webp, /images/modal-img1@2x.webp 2x\" type=\"image/webp\"/><img class=\"modal__img\" src=\"/images/modal-img1@1x.jpg\" srcset=\"/images/modal-img1@2x.jpg 2x\" alt=\"\"/>\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Вход в личный кабинет</h2>\n\t\t\t\t\t\t\t<button class=\"modal__close js-modal-close\">\n\t\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label form-group__label--small form-group__label--center\">Введите код из SMS, который мы отправили 5 секунд назад</label>\n\t\t\t\t\t\t\t\t<input class=\"form-group__input\" type=\"text\" name=\"code\" placeholder=\"Код\" v-model=\"code\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"modal__hint\">\n\t\t\t\t\t\t\t\tЕсли код не пришёл, запросите\n\t\t\t\t\t\t\t\t<a class=\"modal__hint-link\" href=\"#\" @click=\"sendNumber\">новый код</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\"\n\t\t\t\t\t\t\t:disabled=\"!code\"\n\t\t\t\t\t\t\t@click=\"checkCode\"\n\t\t\t\t\t\t>Подтвердить</button>\n\t\t\t\t\t\t<button class=\"modal__button-back\" @click=\"store.commit('user/setLoginStep', 1)\">\n\t\t\t\t\t\t\t<svg class=\"modal__button-back-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#arrow-back\"></use>\n\t\t\t\t\t\t\t</svg>Изменить телефон\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal__content modal__content--image-left\"\n\t\t\t\t\tv-show=\"store.state.user.login.step === 3\">\n\t\t\t\t\t<div class=\"modal__img-box\">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset=\"/images/modal-img1@1x.webp, /images/modal-img1@2x.webp 2x\" type=\"image/webp\"/><img class=\"modal__img\" src=\"/images/modal-img1@1x.jpg\" srcset=\"/images/modal-img1@2x.jpg 2x\" alt=\"\"/>\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title show-desktop\">Вход в личный кабинет</h2>\n\t\t\t\t\t\t\t<button class=\"modal__close\" @click=\"closeModal\">\n\t\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal__success-box\">\n\t\t\t\t\t\t\t<svg class=\"modal__success-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#success\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<p class=\"modal__success-text\">Ваш номер телефона подтверждён!</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\"\n\t\t\t\t\t\t\t@click=\"login\">Войти\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\n\timport { ref } from \"vue\"\n\timport { useStore } from \"vuex\";\n\timport { closeModal } from \"~/assets/js/components/modal\" \n\n\tconst store = useStore();\n\tlet phoneNumber = ref('');\n\tlet code = ref('');\n\tlet isConsentToDataProcessing = ref(true);\n\tfunction inputNumber ({target})\n\t{\n\t\tphoneNumber.value = target.value\n\t};\n\tfunction sendNumber()\n\t{\n\t\tstore.dispatch('user/sendPhoneNumber', phoneNumber.value)\t\n\t}\n\tfunction checkCode()\n\t{\n\t\tstore.dispatch('user/checkCode', {phone: phoneNumber.value, code: code.value})\t\n\t}\n\tasync function login()\n\t{\n\t\tcloseModal();\n\t\tawait store.dispatch('user/loginInToSystem');\n\t}\n</script>\n<style lang=\"scss\">\n</style>","<template>\n\t<div class=\"modal__form-panel\">\n\t\t<div class=\"form-group\">\n\t\t\t<label class=\"form-group__label\">Телефон</label>\n\t\t\t<div class=\"form-group__row\">\n\t\t\t\t<input\n\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\tvalue=\"+7\"\n\t\t\t\t\t\t@input=\"inputNumber\"\n\t\t\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"button button--white form-group__confirm-btn\"\n\t\t\t\t\t@click=\"sendNumber\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>Подтвердить</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"form-group\">\n\t\t\t<label class=\"form-group__label form-group__label--small\">Введите код из SMS, который мы отправили 5 секунд назад</label>\n\t\t\t<div class=\"form-group__row\">\n\t\t\t\t<input class=\"form-group__input\" type=\"text\" name=\"code\" placeholder=\"Код\" v-model=\"code\">\n\t\t\t\t<button\n\t\t\t\t\t@click=\"sendCode\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"button button--white form-group__confirm-btn\"\n\t\t\t\t>\n\t\t\t\tОтправить</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<p class=\"modal__hint\">\n\t\t\tЕсли код не пришёл, запросите\n\t\t\t<a class=\"modal__hint-link\" href=\"#\" @click=\"sendNumber\">новый код</a>\n\t\t</p>\n\t</div>\n</template>\n<script setup>\n\timport { ref } from 'vue';\n\timport { useStore } from 'vuex';\n\tconst emit = defineEmits(['getToken'])\n\tconst store = useStore();\n\tconst phoneNumber = ref('79187024219');\n\tconst code = ref('');\n\tfunction inputNumber ({target})\n\t{\n\t\tphoneNumber.value = target.value\n\t};\n\tfunction sendNumber()\n\t{\n\t\tstore.dispatch('user/fetchPhone', phoneNumber.value);\n\t};\n\tasync function sendCode()\n\t{\n\t\tlet response = await store.dispatch('user/fetchUserCode', {phone: phoneNumber.value, code: code.value });\n\t\tlet data = await response.json()\n\t\temit('getToken', data.token);\n\t};\n</script>\n<style lang=\"scss\">\n</style>","export default \"__VITE_PUBLIC_ASSET__0ef06dc5__\"","export default \"__VITE_PUBLIC_ASSET__878b2d20__\"","export default \"__VITE_PUBLIC_ASSET__39078cd4__\"","export default \"__VITE_PUBLIC_ASSET__e4ea12fd__\"","<template>\n\t<div \n\t\tclass=\"modal\"\n\t\tid=\"code\"\n\t\t:class=\"{'modal--code': store.state.user.isLogin, 'modal--register': !store.state.user.isLogin}\"\n\t>\n\t\t<div class=\"modal__body\" v-if=\"store.state.user.isLogin\">\n\t\t\t<div class=\"modal__content modal__content--image-left\">\n\t\t\t\t<div class=\"modal__img-box\">\n\t\t\t\t\t<picture>\n\t\t\t\t\t\t<source srcset=\"/images/modal-img2@1x.webp, /images/modal-img2@2x.webp 2x\" type=\"image/webp\"/><img class=\"modal__img\" src=\"/images/modal-img2@1x.jpg\" srcset=\"/images/modal-img2@2x.jpg 2x\" alt=\"\"/>\n\t\t\t\t\t</picture>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Зарегистрировать код</h2>\n\t\t\t\t\t\t\t<p class=\"modal__subtitle\">Ищите код в продукции со знаком<br>«Вкус путешествия с «Крафт»</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"modal__close\" @click=\"closeModal\">\n\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t<div class=\"form-group\" :class=\"{'form-group--error': isError}\">\n\t\t\t\t\t\t\t<label class=\"form-group__label form-group__label--center\">Код под крышкой</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tv-model=\"contentCode\"\n\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"code\"\n\t\t\t\t\t\t\t\tplaceholder=\"Введите код\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"form-group__error-text\" data-v-inspector=\"components/ModalUser.vue:20:97\">Неверный код.</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"modal__hint\">Если у вас есть проблемы с регистрацией кодов,<br>пожалуйста,\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">напишите нам.</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\"\n\t\t\t\t\t\t@click=\"sendCode\"\n\t\t\t\t\t>\n\t\t\t\t\t\tОтправить\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"modal__body\" v-else>\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<form @submit.prevent=\"sendCode\" class=\"modal__content-box\">\n\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Зарегистрировать код</h2>\n\t\t\t\t\t\t\t<p class=\"modal__subtitle\">Ищите код в продукции со знаком «Вкус путешествия с «Крафт»</p>\n\t\t\t\t\t\t\t<p class=\"modal__subtitle\">\n\t\t\t\t\t\t\t\tЕсли ранее вы принимали участие в акции, то сначала\n\t\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">авторизируйтесь на сайте</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"modal__close js-modal-close\">\n\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<label class=\"form-group__label\">Имя</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"first-name\"\n\t\t\t\t\t\t\t\tplaceholder=\"Введите имя\"\n\t\t\t\t\t\t\t\tv-model=\"firstName\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<label class=\"form-group__label\">Фамилия</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"first-name\"\n\t\t\t\t\t\t\t\tplaceholder=\"Введите фамилию\"\n\t\t\t\t\t\t\t\tv-model=\"lastName\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<p class=\"form-group__label\">Город</p>\n\t\t\t\t\t\t\t<div class=\"dropdown\">\n\t\t\t\t\t\t\t\t<div class=\"dropdown__value-box\">\n\t\t\t\t\t\t\t\t\t<input class=\"dropdown__value\" type=\"text\" placeholder=\"Выберите свой город\" disabled>\n\t\t\t\t\t\t\t\t\t<svg class=\"dropdown__arrow\">\n\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"#dropdown-arrow\"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ul class=\"dropdown__options-list\">\n\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Оренбург\">Оренбург</li>\n\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Москва\">Москва</li>\n\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Санкт-Петербург\">Санкт-Петербург</li>\n\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Казань\">Казань</li>\n\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Новосибирск\">Новосибирск</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<PhonePanel @getToken=\"setUserToken\" />\n\t\t\t\t\t\t<div class=\"modal__form-panel\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Email</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите email\"\n\t\t\t\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"modal__hint modal__hint--yellow\">E-mail ещё не подтверждён.</p>\n\t\t\t\t\t\t\t<p class=\"modal__hint\">\n\t\t\t\t\t\t\t\tДля подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите\n\t\t\t\t\t\t\t\t<span class=\"text-white\">+50 баллов.</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal__form-panel modal__form-panel--orange\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Код под крышкой</label>\n\t\t\t\t\t\t\t\t<input class=\"form-group__input\" type=\"text\" name=\"code\" placeholder=\"Введите код\" v-model=\"contentCode\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"modal__hint\">\n\t\t\t\t\t\t\t\tЕсли вам не приходят коды по смс или есть другие проблемы с регистрацией кодов под крышкой, пожалуйста,\n\t\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">напишите нам</a>.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<label class=\"checkbox modal__checkbox\">\n\t\t\t\t\t\t<input class=\"checkbox__input\" type=\"checkbox\"><span class=\"checkbox__text\">\n\t\t\t\t\t\t\tДаю согласие на обработку\n\t\t\t\t\t\t\t<a class=\"text-orange\" href=\"#\">персональных данных</a></span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\" \n\t\t\t\t\t\t:disabled=\"!token || !!contentCode\"\n\t\t\t\t\t>\n\t\t\t\t\t\tОтправить\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\n\timport { ref } from \"vue\"\n\timport { useStore } from \"vuex\";\n\timport { closeModal, showModal } from '~/assets/js/components/modal.js';\n\tconst runtimeConfig = useRuntimeConfig();\n\tlet store = useStore();\n\tconst contentCode = ref(''),\n\t\tisError = ref(false),\n\t\ttoken = ref(''),\n\t\tfirstName = ref(''),\n\t\tlastName = ref(''),\n\t\temail = ref('');\n\n\tfunction setUserToken(newToken)\n\t{\n\t\ttoken.value = newToken;\n\t}\n\tfunction sendCode()\n\t{\n\t\tlet userToken;\n\t\tlet sendData;\n\t\tif(store.state.user.isLogin)\n\t\t{\t\t\t\n\t\t\tuserToken = localStorage.getItem('userToken');\n\t\t\tsendData =  {\n\t\t\t\t\"firstName\": store.state.user.data.firstName,\n\t\t\t\t\"lastName\": store.state.user.data.lastName,\n\t\t\t\t\"email\": store.state.user.data.email,\n\t\t\t\t\"content\": contentCode.value\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tuserToken = token.value;\n\t\t\tsendData =  {\n\t\t\t\t\"firstName\": firstName.value,\n\t\t\t\t\"lastName\": lastName.value,\n\t\t\t\t\"email\": email.value,\n\t\t\t\t\"content\": contentCode.value\n\t\t\t}\n\t\t}\n\t\tfetch(runtimeConfig.public.API_BASE_URL + '/code/?token=' + userToken, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t},\n\t\t\tbody: JSON.stringify(sendData)\n\t\t}).then(async (response)=>{\n\t\t\tlet json = await response.json();\n\t\t\tif(json.success)\n\t\t\t{\n\t\t\t\tisError.value = false;\n\t\t\t\tstore.commit('modal/setStickerData', json.userCode.sticker);\n\t\t\t\tshowStiker();\n\t\t\t}\n\t\t\telse isError.value = true;\n\t\t})\n\t}\n\tfunction showStiker()\n\t{\n\t\tcloseModal();\n\t\tshowModal('sticker');\n\t}\n</script>\n<style lang=\"scss\">\n</style>","<template>\n\t<div class=\"modal modal--user\" id=\"user\">\n\t\t<div class=\"modal__body\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<div class=\"modal__content-box\">\n\t\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\">Мои данные</h2>\n\t\t\t\t\t\t\t<p class=\"modal__subtitle\">Пожалуйста, введите свои реальные данные, иначе могут быть проблемы при получении призов.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"modal__close\" @click=\"closeModal\">\n\t\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form @submit.prevent=\"submitData\">\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Имя</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"first-name\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите имя\"\n\t\t\t\t\t\t\t\t\tv-model=\"data.firstName\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"form-group__error-text\">Текст ошибки</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Фамилия</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"first-name\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите фамилию\"\n\t\t\t\t\t\t\t\t\tv-model=\"data.lastName\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<p class=\"form-group__label\">Пол</p>\n\t\t\t\t\t\t\t\t<div class=\"form-group__option-row\">\n\t\t\t\t\t\t\t\t\t<label class=\"option\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"option__input\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\t\t\t:checked=\"store.state.user.data.sex === 'man'\"\n\t\t\t\t\t\t\t\t\t\t\t@change=\"()=>{data.sex = 'man'}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p class=\"option__text\">Муж\n\t\t\t\t\t\t\t\t\t\t\t<svg class=\"option__icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"#male\"></use>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label class=\"option\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"option__input\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\t\t\t:checked=\"store.state.user.data.sex === 'woman'\"\n\t\t\t\t\t\t\t\t\t\t\t@change=\"()=>{data.sex = 'woman'}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p class=\"option__text\">Жен\n\t\t\t\t\t\t\t\t\t\t\t<svg class=\"option__icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"#female\"></use>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<p class=\"form-group__label\">Город</p>\n\t\t\t\t\t\t\t\t<div class=\"dropdown\">\n\t\t\t\t\t\t\t\t\t<div class=\"dropdown__value-box\">\n\t\t\t\t\t\t\t\t\t\t<input class=\"dropdown__value\" type=\"text\" placeholder=\"Выберите свой город\" disabled>\n\t\t\t\t\t\t\t\t\t\t<svg class=\"dropdown__arrow\">\n\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"#dropdown-arrow\"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<ul class=\"dropdown__options-list\">\n\t\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Оренбург\">Оренбург</li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Москва\">Москва</li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Санкт-Петербург\">Санкт-Петербург</li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Казань\">Казань</li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"dropdown__option\" data-value=\"Новосибирск\">Новосибирск</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group mb24\">\n\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Дата рождения</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"form-group__input form-group__input--date\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"first-name\"\n\t\t\t\t\t\t\t\t\tv-model.lazy=\"data.dateOfBirth\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"modal__form-panel\">\n\t\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label class=\"form-group__label\">Email</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"form-group__input\"\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Введите email\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"data.email\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<template v-if=\"!data.isConfirmedEmail\">\n\t\t\t\t\t\t\t\t\t<p class=\"modal__hint modal__hint--yellow\">E-mail ещё не подтверждён.</p>\n\t\t\t\t\t\t\t\t\t<p class=\"modal__hint\">\n\t\t\t\t\t\t\t\t\t\tДля подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-white\">+50 баллов.</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"button button--orange button--orange-md modal__btn\"\n\t\t\t\t\t\t\t@click=\"closeModal\"\n\t\t\t\t\t\t>Обновить</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\n\timport { closeModal } from '~/assets/js/components/modal.js'\n\timport { computed, ref, onMounted } from \"vue\"\n\timport { useStore } from \"vuex\";\n\tconst store = useStore();\n\n\n\tconst data = ref({\n\t\tfirstName:  \"\",\n\t\tlastName:  \"\",\n\t\tsex:  \"\",\n\t\tdateOfBirth:  \"\",\n\t\temail:  \"\",\n\t\tisConfirmedEmail: false,\n\t})\n\tonMounted(()=>{\n\t\tstore.commit('modal/setDataFunc', setData);\n\t})\n\n\tconst phone = computed(() => {\n\t\tif(store.state.user.data.phone)\n\t\t{\n\t\t\tlet numberArr = store.state.user.data.phone.split('');\n\t\t\treturn `+${numberArr[0]} ${numberArr[1]}${numberArr[2]}${numberArr[3]} ${numberArr[4]}${numberArr[5]}${numberArr[6]} ${numberArr[7]}${numberArr[8]} ${numberArr[9]}${numberArr[10]}`\n\t\t}\n\t\telse\n\t\t\treturn '-';\n\t});\n\tconst dateInFormToSend = computed(() => {\n\t\treturn data.value.dateOfBirth.replaceAll('.', '-');\n\t});\n\tfunction setData()\n\t{\n\t\tdata.value.firstName = store.state.user.data.firstName;\n\t\tdata.value.lastName = store.state.user.data.lastName;\n\t\tdata.value.sex = store.state.user.data.sex;\n\t\tdata.value.dateOfBirth = store.state.user.data.dateOfBirth;\n\t\tdata.value.email = store.state.user.data.email;\n\t\tconsole.log(store.state.user.data.isConfirmedEmail);\n\t\tdata.value.isConfirmedEmail = store.state.user.data.isConfirmedEmail;\n\t}\n\tasync function submitData()\n\t{\n\t\tawait store.dispatch('user/updateUserData', \n\t\t\t{\n\t\t\t\t\"firstName\": data.value.firstName,\n\t\t\t\t\"lastName\": data.value.lastName,\n\t\t\t\t\"sex\": data.value.sex,\n\t\t\t\t\"dateOfBirth\": dateInFormToSend.value,\n\t\t\t\t\"email\": data.value.email\n\t\t\t}\n\t\t)\n\t}\n</script>\n<style lang=\"scss\">\n</style>","export default \"__VITE_PUBLIC_ASSET__628a5d35__\"","export default \"__VITE_PUBLIC_ASSET__5f9aee41__\"","export default \"__VITE_PUBLIC_ASSET__a0bd81b1__\"","<template>\n  <div>\n  \t<div class=\"modal modal--sticker\" id=\"sticker\">\n\t\t<div class=\"modal__body\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<div class=\"modal__title-box\">\n\t\t\t\t\t<div class=\"modal__sticker-box\">\n\t\t\t\t\t\t<!-- Sticker-->\n\t\t\t\t\t\t<figure class=\"sticker sticker--no-hover modal__sticker\">\n\t\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t\t<source srcset=\"/images/sticker5@1x.webp, /images/sticker5@2x.webp 2x\" type=\"image/webp\"/>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclass=\"sticker__img\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"/images/sticker5@1x.jpg\"\n\t\t\t\t\t\t\t\t\t\t:src=\"`${runtimeConfig.public.API_BASE_URL}${$store.state.modal.stikerData?.imageUrl}`\"\n\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</picture>\n\t\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t\t<p class=\"sticker__text\">\n\t\t\t\t\t\t\t\t\t{{$store.state.modal.stikerData?.name}}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<div class=\"modal__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"modal__title\" v-if=\"$store.state.modal.stikerData?.id>12\">\n\t\t\t\t\t\t\t\tПоздравляем! Ваш мгновенный приз – {{$store.state.modal.stikerData?.name}}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<p class=\"modal__subtitle\">Стикер</p>\n\t\t\t\t\t\t\t\t<h2 class=\"modal__title\">«{{$store.state.modal.stikerData?.name}}»</h2>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div class=\"modal__info-box\" v-if=\"$store.state.modal.stikerData?.extraText\">\n\t\t\t\t\t\t\t\t<svg class=\"modal__info-box-icon\">\n\t\t\t\t\t\t\t\t\t<use xlink:href=\"#info\"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{{$store.state.modal.stikerData?.extraText}}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"modal__close js-modal-close\">\n\t\t\t\t\t\t<svg class=\"modal__close-icon\">\n\t\t\t\t\t\t\t<use xlink:href=\"#close\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<template v-if=\"$store.state.modal.stikerData?.content\">\n\t\t\t\t\t<div class=\"modal__text-block\" v-html=\"$store.state.modal.stikerData?.content\">\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<button class=\"button button--orange button--orange-md modal__btn js-modal-close\">Отлично!</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  </div>\n</template>\n<script setup>\n\tconst runtimeConfig = useRuntimeConfig();\n</script>\n<style lang=\"scss\">\n</style>","<template>\n\t<footer class=\"footer\">\n\t\t<div class=\"footer__container container\">\n\t\t\t<div class=\"footer__text-box\">\n\t\t\t\t<p class=\"footer__text\">\n\t\t\t\t\tОбщий срок проведения Акции с 20 июля по 12 ноября 2023 года, включая период выдачи призов победителям.\n\t\t\t\t\t<br class=\"show-desktop\"/>Регистрация кодов осуществляется на promo.orenbeer.ru\n\t\t\t\t</p>\n\t\t\t\t<p class=\"footer__text\">Период покупки и регистрации кодов (далее «период регистрации кодов»): 20.07.2023 - 12.10.2023 года включительно.</p>\n\t\t\t\t<p class=\"footer__text\">*Будет предоставлен сертификат на приобретение приза. Побрости в Полных правилах акции.</p>\n\t\t\t\t<p class=\"footer__text\">Призы могут отличаться по внешнему виду от их изображения на сайте и рекламных материалах.</p>\n\t\t\t</div>\n\t\t\t<NuxtLink class=\"button button--gray footer__button\" to=\"agreement\">Полные правила акции\n\t\t\t\t<svg class=\"button__icon\">\n\t\t\t\t\t<use xlink:href=\"#button-arrow\"></use>\n\t\t\t\t</svg>\n\t\t\t</NuxtLink>\n\t\t</div>\n\t\t<ModalFeedback />\n\t\t<ModalLogin />\n\t\t<ModalCode />\n\t\t<ModalUser />\n\t\t<ModalStiker />\n\t</footer>\n</template>\n","<template>\n  <div>\n  \t<Header />\n  \t<slot></slot>\n  \t<Footer />\n  \t<Sprite></Sprite>\n  </div>\n</template>\n<script>\n\texport default {\n\t\tmounted()\n\t\t{\n\t\t\tif(!this.isOldUser())\n\t\t\t\tnavigateTo('/login');\n\t\t\tif(localStorage.getItem('userToken'))\n\t\t\t\tthis.login();\n\t\t},\n\t\tmethods:{\n\t\t\tisOldUser()\n\t\t\t{\n\t\t\t\treturn localStorage.getItem('isOldUser');\n\t\t\t},\n\t\t\tasync login()\n\t\t\t{\n\t\t\t\tawait this.$store.dispatch('user/loginInToSystem');\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style lang=\"scss\">\n</style>"],"names":["_ssrRenderComponent","_createBlock"],"mappings":"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"}