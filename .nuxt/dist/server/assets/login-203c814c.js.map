{"version":3,"file":"login-203c814c.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\n  \t<main class=\"main\">\n\t\t<section class=\"section-login\">\n\t\t\t<div class=\"section-login__container container\">\n\t\t\t\t<img class=\"section-login__logo\" src=\"/images/logo.svg\" alt>\n\t\t\t\t<div class=\"section-login__text-box\">\n\t\t\t\t\t<h1 class=\"section-login__title\">Вкус путешествия с «Крафт»</h1>\n\t\t\t\t\t<p class=\"section-login__text\">Покупайте продукцию «Крафт» и получайте призы</p>\n\t\t\t\t</div>\n\t\t\t\t<form class=\"section-login__form\" @submit.prevent=\"submit\">\n\t\t\t\t\t<p class=\"section-login__form-text\">Укажите дату своего рождения для входа на сайт</p>\n\t\t\t\t\t<div class=\"section-login__form-grid\">\n\t\t\t\t\t\t<input class=\"section-login__form-input\" type=\"text\" v-model=\"date.day\">\n\t\t\t\t\t\t<input class=\"section-login__form-input\" type=\"text\" v-model=\"date.mounth\">\n\t\t\t\t\t\t<input class=\"section-login__form-input\" type=\"text\" v-model=\"date.year\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"section-login__age-alert\" v-if=\"isWarning\">\n\t\t\t\t\t\t<svg class=\"section-login__age-alert-icon\">\n\t\t\t\t\t\t\t<use xlink:href=\"#info-thin\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<p class=\"section-login__age-alert-text\">Извините, просматривать данный сайт могут только совершеннолетние посетители</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"button button--orange section-login__form-button\" type=\"submit\">Войти</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t</main>\n</template>\n<script setup>\n\timport {ref} from \"vue\";\n\tdefinePageMeta({\n\t  layout: \"login\",\n\t});\n\tlet date = ref({\n\t\t\tday:'01',\n\t\t\tmounth: '01',\n\t\t\tyear: '2000'\n\t\t}), \n\t\tisWarning = ref(false);\n\n\tfunction submit()\n\t{\n\t\tif (isWarning.value) return\n\t\tif(isAdult(new Date(date.value.year, date.value.mounth, date.value.day)))\n\t\t{\n\t\t\tlocalStorage.setItem('isOldUser', true)\n\t\t\tnavigateTo('/')\n\t\t}\n\t\telse\n\t\t\tisWarning.value = true;\n\t}\n\tfunction isAdult(birthday) {\n\t\tconst today = new Date();\n\t\tlet diffInADay = Math.ceil(Math.abs(today.getTime() - birthday.getTime()) / (1000 * 3600 * 24));\n\t\treturn (diffInADay / 365 > 18)\n\t}\n</script>\n<style lang=\"scss\">\n</style>"],"names":[],"mappings":";;;;;;;;;;;AAiCC,QAAI,OAAO,IAAI;AAAA,MACb,KAAI;AAAA,MACJ,QAAQ;AAAA,MACR,MAAM;AAAA,IACT,CAAG,GACD,YAAY,IAAI,KAAK;;;;;;;;;;;;;;;;;;"}