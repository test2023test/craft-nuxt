{"version":3,"file":"winners-1b7fda41.js","sources":["../../../../pages/winners.vue"],"sourcesContent":["<template>\n\t<main class=\"main\">\n\t\t<section class=\"section-winners\">\n\t\t\t<div class=\"container\">\n\t\t\t\t<h1 class=\"section-winners__title\">Победители</h1>\n\t\t\t\t<div class=\"section-winners__row-box\">\n\t\t\t\t\t<TransitionGroup name=\"winners-list\" tag=\"ul\">\n\t\t\t\t\t\t<div class=\"section-winners__row\" v-for=\"(winner, index) of lotteryWinners\" :key=\"index\">\n\t\t\t\t\t\t\t<time class=\"section-winners__time section-winners__time--desktop\">{{winner.lotteryDrawDate}}</time>\n\t\t\t\t\t\t\t<p class=\"section-winners__text\">\n\t\t\t\t\t\t\t\t<time class=\"section-winners__time section-winners__time--mobile\">{{winner.lotteryDrawDate}}</time><span>{{winner.userFirstName}}</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p class=\"section-winners__text\">{{winner.userPhone}}</p>\n\t\t\t\t\t\t\t<p class=\"section-winners__text\">\n\t\t\t\t\t\t\t\t<template v-if=\"winner.lotteryType === 'instant'\">\n\t\t\t\t\t\t\t\t\tМгновенный приз\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-if=\"winner.lotteryType === 'basic'\">\n\t\t\t\t\t\t\t\t\tОбычная лотерея\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-if=\"winner.lotteryType === 'collection'\">\n\t\t\t\t\t\t\t\t\tКоллекция стикеров\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p class=\"section-winners__text\">{{winner.prizeName}}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TransitionGroup>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"section-winners__button-box\">\n\t\t\t\t\t<Transition name=\"winners-list\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-if=\"!isListEnd\"\n\t\t\t\t\t\t\t@click=\"loadMore\"\n\t\t\t\t\t\t\tclass=\"button button--orange button--orange-xs section-winners__button\" \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПоказать еще\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</main>\n</template>\n<script setup>\n\timport { onMounted, ref } from \"vue\";\n\tlet countItems = ref(8);\n\tlet lotteryWinners = ref([]);\n\tlet isListEnd = ref(false);\n\tonMounted(()=>{\n\t\tfetchLotteryWinners();\n\t});\n\tasync function fetchLotteryWinners()\n\t{\n\t\tawait fetch(`https://promo-orenbeer.dreamdev.space/lottery-winners/?page=1&per_page=${countItems.value}`)\n\t\t.then(async (res)=>{\n\t\t\tlet data = await res.json();\n\t\t\tlotteryWinners.value = data.lotteryWinners;\n\t\t})\n\t}\n\tasync function loadMore()\n\t{\n\t\tcountItems.value += 8;\n\t\tawait fetchLotteryWinners();\n\t\tisListEnd.value = !(countItems.value <= lotteryWinners.value.length);\n\t}\n\t\n</script>\n<style>\n.winners-list-enter-active,\n.winners-list-leave-active {\n  transition: all 0.5s ease;\n}\n.winners-list-enter-from,\n.winners-list-leave-to {\n  opacity: 0;\n  -webkit-transform: scale(0) translateX(-10%);\n      -ms-transform: scale(0) translateX(-10%);\n          transform: scale(0) translateX(-10%);\n  margin-bottom: 0;\n  max-height: 0;\n  overflow: hidden; \n}\n</style>"],"names":[],"mappings":";;;;;;;AA6CkB,QAAI,CAAC;AACtB,QAAI,iBAAiB,IAAI,CAAA,CAAE;AAC3B,QAAI,YAAY,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}