import{_ as F}from"./nuxt-link.248d42b2.js";import{h as L,l as M,o as p,c as v,a as s,b as g,w as U,d as h,j as t,q as I,t as T,s as S,k as V,f as N,r as b,g as H,v as m,C as E,n as C,F as A,i as G,x as k,D as J,A as q,E as P,y as K,G as Q}from"./entry.f9d10e7e.js";import{_ as W}from"./logo.32c72655.js";import{c as y,s as X}from"./modal.2f64c84b.js";import{_ as z}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as Y}from"./Sprite.ef21bc2a.js";const Z={class:"header"},ss={class:"header__container container"},es=N('<button class="header__menu-btn" aria-label="Menu"><svg class="header__menu-btn-icon header__menu-btn-icon--burger"><use xlink:href="#burger"></use></svg><svg class="header__menu-btn-icon header__menu-btn-icon--close"><use xlink:href="#close"></use></svg></button>',1),os=s("img",{class:"header__logo",src:W,alt:"alt"},null,-1),ts={class:"header__nav"},as={class:"header__nav-list"},ls={class:"header__nav-elem"},ns={class:"header__nav-elem"},_s={class:"header__nav-elem"},is={class:"header__nav-elem"},cs=s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})],-1),ds={class:"header__user-nav-box"},rs={class:"header__user-name"},us=["onClick"],ms={key:0,class:"header__user-nav","data-modal":"login"},ps=s("a",{class:"header__lk-link",href:"#"},[s("span",{class:"header__lk-link-text"},"Личный кабинет"),s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})])],-1),hs=[ps],vs={class:"header__user-nav-box"},fs={class:"header__user-name"},bs=["onClick"],gs=s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})],-1),$s={__name:"Header",setup(w){let a=L();const o=()=>{a.dispatch("user/logOutOfTheSystem")},i=M(()=>a.state.user.data.firstName===""?"Имя":a.state.user.data.firstName),d=M(()=>a.state.user.data.lastName===""?"Фамилия":a.state.user.data.lastName);function e(){{let l=document.querySelector(".header");l.classList.add("header--menu-animate"),setTimeout(()=>{l.classList.contains("header--menu-show")?(l.classList.remove("header--menu-show"),document.body.style.overflow=""):(l.classList.add("header--menu-show"),document.body.style.overflow="hidden"),setTimeout(()=>{l.classList.remove("header--menu-animate")},300)})}}return(l,_)=>{const n=F;return p(),v("header",Z,[s("div",ss,[es,g(n,{class:"header__logo-link",to:"/"},{default:U(()=>[os]),_:1}),s("nav",ts,[s("ul",as,[s("li",ls,[g(n,{onClick:e,class:"header__nav-link",to:"/"},{default:U(()=>[h("Правила и призы")]),_:1})]),s("li",ns,[g(n,{onClick:e,class:"header__nav-link",to:"winners"},{default:U(()=>[h("Победители")]),_:1})]),s("li",_s,[g(n,{onClick:e,class:"header__nav-link",to:"where-to-buy"},{default:U(()=>[h("Где купить")]),_:1})]),s("li",is,[g(n,{onClick:e,class:"header__nav-link","data-modal":"feedback"},{default:U(()=>[h("Обратная связь")]),_:1})])]),t(a).state.user.isLogin?(p(),I(n,{key:0,to:"/lk",class:"header__user-nav header__user-nav--active header__user-nav--mobile"},{default:U(()=>[cs,s("div",ds,[s("p",rs,T(i.value)+" "+T(d.value),1),s("button",{class:"header__user-logout",onClick:S(o,["prevent","stop"])},"Выйти",8,us)])]),_:1})):V("",!0)]),t(a).state.user.isLogin?(p(),I(n,{key:1,to:"/lk",class:"header__user-nav header__user-nav--active"},{default:U(()=>[s("div",vs,[s("p",fs,T(i.value)+" "+T(d.value),1),s("button",{class:"header__user-logout",onClick:S(o,["prevent","stop"])},"Выйти",8,bs)]),gs]),_:1})):(p(),v("div",ms,hs))])])}}},xs=$s,ks={class:"modal",id:"feedback",ref:"modal"},ys={class:"modal__content"},ws=s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})],-1),Cs=s("h2",{class:"modal__title"},"Ваше сообщение успешно отправлено!",-1),Ts=s("p",{class:"modal__subtitle"},"Наши менеджеры свяжутся с вами в ближайшее время",-1),Us={class:"modal__content"},Ns={class:"modal__content-box"},Es=N('<div class="modal__title-box"><div class="modal__wrap"><h2 class="modal__title">Обратная связь</h2><p class="modal__subtitle"> Есть вопросы? <br class="hide-desktop">Напишите нам, и мы ответим в ближайшее время </p></div><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),Ss=["onSubmit"],Ls={class:"form-group"},Ms=s("p",{class:"form-group__label"},"Тема вопроса",-1),Vs={class:"dropdown",ref:"dropdown"},js={class:"dropdown__value-box"},As=["value"],Ds=s("svg",{class:"dropdown__arrow"},[s("use",{"xlink:href":"#dropdown-arrow"})],-1),Os={class:"dropdown__options-list"},Rs=["data-value","onClick"],Bs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Is=s("label",{class:"form-group__label"},"E-mail для ответа",-1),Ps=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Fs=s("label",{class:"form-group__label"},"Имя Фамилия",-1),Hs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Js=s("label",{class:"form-group__label"},"Номер телефона",-1),qs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),zs=s("label",{class:"form-group__label"},"Ваше сообщение",-1),Gs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Ks=s("span",{class:"checkbox__text"},[h(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),Qs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Объязательное поле",-1),Ws=s("button",{class:"button button--orange button--orange-md modal__btn"},"Отправить",-1),Xs={__name:"ModalFeedback",setup(w){const a=q();let o=b(!1),i=b(null),d=b([]),e=b({selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}});H(()=>{n()});function l(){_()&&fetch(a.public.API_BASE_URL+"/feedback/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({topic_id:e.value.selectTopic.id,email:e.value.email.value,full_name:e.value.name.value,phone:e.value.phone.value,message:e.value.message.value})}).then(async r=>{(await r.json()).success&&(o.value=!0)})}function _(){return e.value.selectTopic.isEmpty=!e.value.selectTopic.id,e.value.email.isEmpty=!e.value.email.value,e.value.name.isEmpty=!e.value.name.value,e.value.phone.isEmpty=!e.value.phone.value,e.value.message.isEmpty=!e.value.message.value,e.value.isConsent.isEmpty=!e.value.isConsent.value,Object.values(e.value).reduce((r,c)=>r&&!c.isEmpty,!0)}function n(){fetch(a.public.API_BASE_URL+"/feedback-topics/").then(async r=>{let c=await r.json();d.value=c.topics})}function $(){setTimeout(()=>{o.value=!1,e.value={selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}},i.value.value="+7"},1e3)}return(r,c)=>(p(),v("div",ks,[s("div",{class:C(["modal__body",{"modal--feedback":!t(o),"modal--success":t(o)}])},[m(s("div",ys,[ws,Cs,Ts,s("button",{class:"button button--orange button--orange-md modal__btn js-modal-close",onClick:$},"Отлично!")],512),[[E,t(o)]]),m(s("div",Us,[s("div",Ns,[Es,s("form",{onSubmit:S(l,["prevent"])},[s("div",{class:C(["modal__wrap",{"form-group--error":t(e).selectTopic.isEmpty}])},[s("div",Ls,[Ms,s("div",Vs,[s("div",js,[s("input",{class:"dropdown__value",type:"text",placeholder:"Выберите тему",disabled:"",value:t(e).selectTopic.title},null,8,As),Ds]),s("ul",Os,[(p(!0),v(A,null,G(t(d),u=>(p(),v("li",{key:u.id,class:"dropdown__option","data-value":u.title,onClick:f=>t(e).selectTopic=u},T(u.title),9,Rs))),128))])],512),Bs]),s("div",{class:C(["form-group",{"form-group--error":t(e).email.isEmpty}])},[Is,m(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":c[0]||(c[0]=u=>t(e).email.value=u)},null,512),[[k,t(e).email.value]]),Ps],2),s("div",{class:C(["form-group",{"form-group--error":t(e).name.isEmpty}])},[Fs,m(s("input",{class:"form-group__input",type:"text",name:"name",placeholder:"Введите имя и фамилию","onUpdate:modelValue":c[1]||(c[1]=u=>t(e).name.value=u)},null,512),[[k,t(e).name.value]]),Hs],2),s("div",{class:C(["form-group",{"form-group--error":t(e).phone.isEmpty}])},[Js,s("input",{ref_key:"telTarget",ref:i,class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:c[2]||(c[2]=u=>{t(e).phone.value=u.target.value})},null,544),qs],2),s("div",{class:C(["form-group",{"form-group--error":t(e).message.isEmpty}])},[zs,m(s("textarea",{class:"form-group__input form-group__input--textarea",name:"message","onUpdate:modelValue":c[3]||(c[3]=u=>t(e).message.value=u)},null,512),[[k,t(e).message.value]]),Gs],2)],2),s("label",{class:C(["checkbox modal__checkbox form-group",{"form-group--error":t(e).isConsent.isEmpty}])},[m(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":c[4]||(c[4]=u=>t(e).isConsent.value=u)},null,512),[[J,t(e).isConsent.value]]),Ks,Qs],2),Ws],40,Ss)])],512),[[E,!t(o)]])],2)],512))}},Ys=Xs,D=""+globalThis.__publicAssetsURL("images/modal-img1@1x.webp"),O=""+globalThis.__publicAssetsURL("images/modal-img1@2x.webp"),R=""+globalThis.__publicAssetsURL("images/modal-img1@1x.jpg"),B=""+globalThis.__publicAssetsURL("images/modal-img1@2x.jpg"),Zs=D+", "+O+" 2x",se=B+" 2x",ee=D+", "+O+" 2x",oe=B+" 2x",te=D+", "+O+" 2x",ae=B+" 2x",le={class:"modal modal--login",id:"login"},ne={class:"modal__body"},_e={class:"modal__content modal__content--image-left"},ie=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Zs,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:se,alt:""})])],-1),ce={class:"modal__content-box"},de={class:"modal__title-box"},re=s("h2",{class:"modal__title"},"Вход в личный кабинет",-1),ue=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),me=[ue],pe={class:"modal__wrap"},he={class:"form-group"},ve=s("label",{class:"form-group__label form-group__label--center"},"Введите свой номер телефона",-1),fe={class:"checkbox modal__checkbox"},be=s("span",{class:"checkbox__text"},[h(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),ge=["disabled"],$e={class:"modal__content modal__content--image-left"},xe=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:ee,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:oe,alt:""})])],-1),ke={class:"modal__content-box"},ye=N('<div class="modal__title-box"><h2 class="modal__title">Вход в личный кабинет</h2><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),we={class:"modal__wrap"},Ce={class:"form-group"},Te=s("label",{class:"form-group__label form-group__label--small form-group__label--center"},"Введите код из SMS, который мы отправили 5 секунд назад",-1),Ue=["disabled"],Ne=s("svg",{class:"modal__button-back-icon"},[s("use",{"xlink:href":"#arrow-back"})],-1),Ee={class:"modal__content modal__content--image-left"},Se=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:te,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:ae,alt:""})])],-1),Le={class:"modal__content-box"},Me={class:"modal__title-box"},Ve=s("h2",{class:"modal__title show-desktop"},"Вход в личный кабинет",-1),je=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Ae=[je],De=s("div",{class:"modal__success-box"},[s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})]),s("p",{class:"modal__success-text"},"Ваш номер телефона подтверждён!")],-1),Oe={__name:"ModalLogin",setup(w){const a=L();let o=b(""),i=b(""),d=b(!0);function e({target:$}){o.value=$.value}function l(){a.dispatch("user/sendPhoneNumber",o.value)}function _(){a.dispatch("user/checkCode",{phone:o.value,code:i.value})}async function n(){y(),await a.dispatch("user/loginInToSystem")}return($,r)=>(p(),v("div",null,[s("div",le,[s("div",ne,[m(s("div",_e,[ie,s("div",ce,[s("div",de,[re,s("button",{class:"modal__close",onClick:r[0]||(r[0]=(...c)=>t(y)&&t(y)(...c))},me)]),s("div",pe,[s("div",he,[ve,s("input",{class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:e},null,32)]),s("label",fe,[m(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=c=>P(d)?d.value=c:d=c)},null,512),[[J,t(d)]]),be])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!(t(o).length===16&&t(d)),onClick:l},"Далее",8,ge)])],512),[[E,t(a).state.user.login.step===1]]),m(s("div",$e,[xe,s("div",ke,[ye,s("div",we,[s("div",Ce,[Te,m(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Код","onUpdate:modelValue":r[2]||(r[2]=c=>P(i)?i.value=c:i=c)},null,512),[[k,t(i)]])]),s("p",{class:"modal__hint"},[h(" Если код не пришёл, запросите "),s("a",{class:"modal__hint-link",href:"#",onClick:l},"новый код")])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!t(i),onClick:_},"Подтвердить",8,Ue),s("button",{class:"modal__button-back",onClick:r[3]||(r[3]=c=>t(a).commit("user/setLoginStep",1))},[Ne,h("Изменить телефон ")])])],512),[[E,t(a).state.user.login.step===2]]),m(s("div",Ee,[Se,s("div",Le,[s("div",Me,[Ve,s("button",{class:"modal__close",onClick:r[4]||(r[4]=(...c)=>t(y)&&t(y)(...c))},Ae)]),De,s("button",{class:"button button--orange button--orange-md modal__btn",onClick:n},"Войти ")])],512),[[E,t(a).state.user.login.step===3]])])])]))}},Re=Oe,Be={class:"modal__form-panel"},Ie={class:"form-group"},Pe=s("label",{class:"form-group__label"},"Телефон",-1),Fe={class:"form-group__row"},He={class:"form-group"},Je=s("label",{class:"form-group__label form-group__label--small"},"Введите код из SMS, который мы отправили 5 секунд назад",-1),qe={class:"form-group__row"},ze={__name:"PhonePanel",emits:["getToken"],setup(w,{emit:a}){const o=L(),i=b("79187024219"),d=b("");function e({target:n}){i.value=n.value}function l(){o.dispatch("user/fetchPhone",i.value)}async function _(){let $=await(await o.dispatch("user/fetchUserCode",{phone:i.value,code:d.value})).json();a("getToken",$.token)}return(n,$)=>(p(),v("div",Be,[s("div",Ie,[Pe,s("div",Fe,[s("input",{class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:e},null,32),s("button",{class:"button button--white form-group__confirm-btn",onClick:l,type:"button"},"Подтвердить")])]),s("div",He,[Je,s("div",qe,[m(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Код","onUpdate:modelValue":$[0]||($[0]=r=>d.value=r)},null,512),[[k,d.value]]),s("button",{onClick:_,type:"button",class:"button button--white form-group__confirm-btn"}," Отправить")])]),s("p",{class:"modal__hint"},[h(" Если код не пришёл, запросите "),s("a",{class:"modal__hint-link",href:"#",onClick:l},"новый код")])]))}},Ge=ze,Ke=""+globalThis.__publicAssetsURL("images/modal-img2@1x.webp"),Qe=""+globalThis.__publicAssetsURL("images/modal-img2@2x.webp"),We=""+globalThis.__publicAssetsURL("images/modal-img2@1x.jpg"),Xe=""+globalThis.__publicAssetsURL("images/modal-img2@2x.jpg"),Ye=Ke+", "+Qe+" 2x",Ze=Xe+" 2x",so={key:0,class:"modal__body"},eo={class:"modal__content modal__content--image-left"},oo=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Ye,type:"image/webp"}),s("img",{class:"modal__img",src:We,srcset:Ze,alt:""})])],-1),to={class:"modal__content-box"},ao={class:"modal__title-box"},lo=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Зарегистрировать код"),s("p",{class:"modal__subtitle"},[h("Ищите код в продукции со знаком"),s("br"),h("«Вкус путешествия с «Крафт»")])],-1),no=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),_o=[no],io={class:"modal__wrap"},co=s("label",{class:"form-group__label form-group__label--center"},"Код под крышкой",-1),ro=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Неверный код.",-1),uo=s("p",{class:"modal__hint"},[h("Если у вас есть проблемы с регистрацией кодов,"),s("br"),h("пожалуйста, "),s("a",{class:"text-orange",href:"#"},"напишите нам.")],-1),mo={key:1,class:"modal__body"},po={class:"modal__content"},ho=["onSubmit"],vo=N('<div class="modal__title-box"><div class="modal__wrap"><h2 class="modal__title">Зарегистрировать код</h2><p class="modal__subtitle">Ищите код в продукции со знаком «Вкус путешествия с «Крафт»</p><p class="modal__subtitle"> Если ранее вы принимали участие в акции, то сначала <a class="text-orange" href="#">авторизируйтесь на сайте</a></p></div><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),fo={class:"modal__wrap"},bo={class:"form-group"},go=s("label",{class:"form-group__label"},"Имя",-1),$o={class:"form-group"},xo=s("label",{class:"form-group__label"},"Фамилия",-1),ko=N('<div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div>',1),yo={class:"modal__form-panel"},wo={class:"form-group"},Co=s("label",{class:"form-group__label"},"Email",-1),To=s("p",{class:"modal__hint modal__hint--yellow"},"E-mail ещё не подтверждён.",-1),Uo=s("p",{class:"modal__hint"},[h(" Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите "),s("span",{class:"text-white"},"+50 баллов.")],-1),No={class:"modal__form-panel modal__form-panel--orange"},Eo={class:"form-group"},So=s("label",{class:"form-group__label"},"Код под крышкой",-1),Lo=s("p",{class:"modal__hint"},[h(" Если вам не приходят коды по смс или есть другие проблемы с регистрацией кодов под крышкой, пожалуйста, "),s("a",{class:"text-orange",href:"#"},"напишите нам"),h(". ")],-1),Mo=s("label",{class:"checkbox modal__checkbox"},[s("input",{class:"checkbox__input",type:"checkbox"}),s("span",{class:"checkbox__text"},[h(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")])],-1),Vo=["disabled"],jo={__name:"ModalCode",setup(w){const a=q();let o=L();const i=b(""),d=b(!1),e=b(""),l=b(""),_=b(""),n=b("");function $(u){e.value=u}function r(){let u,f;o.state.user.isLogin?(u=localStorage.getItem("userToken"),f={firstName:o.state.user.data.firstName,lastName:o.state.user.data.lastName,email:o.state.user.data.email,content:i.value}):(u=e.value,f={firstName:l.value,lastName:_.value,email:n.value,content:i.value}),fetch(a.public.API_BASE_URL+"/code/?token="+u,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(f)}).then(async j=>{let x=await j.json();x.success?(d.value=!1,o.commit("modal/setStickerData",x.userCode.sticker),c()):d.value=!0})}function c(){y(),X("sticker")}return(u,f)=>{const j=Ge;return p(),v("div",{class:C(["modal",{"modal--code":t(o).state.user.isLogin,"modal--register":!t(o).state.user.isLogin}]),id:"code"},[t(o).state.user.isLogin?(p(),v("div",so,[s("div",eo,[oo,s("div",to,[s("div",ao,[lo,s("button",{class:"modal__close",onClick:f[0]||(f[0]=(...x)=>t(y)&&t(y)(...x))},_o)]),s("div",io,[s("div",{class:C(["form-group",{"form-group--error":d.value}])},[co,m(s("input",{"onUpdate:modelValue":f[1]||(f[1]=x=>i.value=x),class:"form-group__input",type:"text",name:"code",placeholder:"Введите код"},null,512),[[k,i.value]]),ro],2),uo]),s("button",{class:"button button--orange button--orange-md modal__btn",onClick:r}," Отправить ")])])])):(p(),v("div",mo,[s("div",po,[s("form",{onSubmit:S(r,["prevent"]),class:"modal__content-box"},[vo,s("div",fo,[s("div",bo,[go,m(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите имя","onUpdate:modelValue":f[2]||(f[2]=x=>l.value=x)},null,512),[[k,l.value]])]),s("div",$o,[xo,m(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите фамилию","onUpdate:modelValue":f[3]||(f[3]=x=>_.value=x)},null,512),[[k,_.value]])]),ko,g(j,{onGetToken:$}),s("div",yo,[s("div",wo,[Co,m(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":f[4]||(f[4]=x=>n.value=x)},null,512),[[k,n.value]])]),To,Uo]),s("div",No,[s("div",Eo,[So,m(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Введите код","onUpdate:modelValue":f[5]||(f[5]=x=>i.value=x)},null,512),[[k,i.value]])]),Lo])]),Mo,s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!e.value||!!i.value}," Отправить ",8,Vo)],40,ho)])]))],2)}}},Ao=jo,Do={class:"modal modal--user",id:"user"},Oo={class:"modal__body"},Ro={class:"modal__content"},Bo={class:"modal__content-box"},Io={class:"modal__title-box"},Po=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Мои данные"),s("p",{class:"modal__subtitle"},"Пожалуйста, введите свои реальные данные, иначе могут быть проблемы при получении призов.")],-1),Fo=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Ho=[Fo],Jo=["onSubmit"],qo={class:"modal__wrap"},zo={class:"form-group"},Go=s("label",{class:"form-group__label"},"Имя",-1),Ko=s("span",{class:"form-group__error-text"},"Текст ошибки",-1),Qo={class:"form-group"},Wo=s("label",{class:"form-group__label"},"Фамилия",-1),Xo={class:"form-group"},Yo=s("p",{class:"form-group__label"},"Пол",-1),Zo={class:"form-group__option-row"},st={class:"option"},et=["checked"],ot=s("p",{class:"option__text"},[h("Муж "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#male"})])],-1),tt={class:"option"},at=["checked"],lt=s("p",{class:"option__text"},[h("Жен "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#female"})])],-1),nt=N('<div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div>',1),_t={class:"form-group mb24"},it=s("label",{class:"form-group__label"},"Дата рождения",-1),ct={class:"modal__form-panel"},dt={class:"form-group"},rt=s("label",{class:"form-group__label"},"Email",-1),ut=s("p",{class:"modal__hint modal__hint--yellow"},"E-mail ещё не подтверждён.",-1),mt=s("p",{class:"modal__hint"},[h(" Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите "),s("span",{class:"text-white"},"+50 баллов.")],-1),pt={__name:"ModalUser",setup(w){const a=L(),o=b({firstName:"",lastName:"",sex:"",dateOfBirth:"",email:"",isConfirmedEmail:!1});H(()=>{a.commit("modal/setDataFunc",d)}),M(()=>{if(a.state.user.data.phone){let l=a.state.user.data.phone.split("");return`+${l[0]} ${l[1]}${l[2]}${l[3]} ${l[4]}${l[5]}${l[6]} ${l[7]}${l[8]} ${l[9]}${l[10]}`}else return"-"});const i=M(()=>o.value.dateOfBirth.replaceAll(".","-"));function d(){o.value.firstName=a.state.user.data.firstName,o.value.lastName=a.state.user.data.lastName,o.value.sex=a.state.user.data.sex,o.value.dateOfBirth=a.state.user.data.dateOfBirth,o.value.email=a.state.user.data.email,console.log(a.state.user.data.isConfirmedEmail),o.value.isConfirmedEmail=a.state.user.data.isConfirmedEmail}async function e(){await a.dispatch("user/updateUserData",{firstName:o.value.firstName,lastName:o.value.lastName,sex:o.value.sex,dateOfBirth:i.value,email:o.value.email})}return(l,_)=>(p(),v("div",Do,[s("div",Oo,[s("div",Ro,[s("div",Bo,[s("div",Io,[Po,s("button",{class:"modal__close",onClick:_[0]||(_[0]=(...n)=>t(y)&&t(y)(...n))},Ho)]),s("form",{onSubmit:S(e,["prevent"])},[s("div",qo,[s("div",zo,[Go,m(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите имя","onUpdate:modelValue":_[1]||(_[1]=n=>o.value.firstName=n)},null,512),[[k,o.value.firstName]]),Ko]),s("div",Qo,[Wo,m(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите фамилию","onUpdate:modelValue":_[2]||(_[2]=n=>o.value.lastName=n)},null,512),[[k,o.value.lastName]])]),s("div",Xo,[Yo,s("div",Zo,[s("label",st,[s("input",{class:"option__input",type:"radio",name:"gender",checked:t(a).state.user.data.sex==="man",onChange:_[3]||(_[3]=()=>{o.value.sex="man"})},null,40,et),ot]),s("label",tt,[s("input",{class:"option__input",type:"radio",name:"gender",checked:t(a).state.user.data.sex==="woman",onChange:_[4]||(_[4]=()=>{o.value.sex="woman"})},null,40,at),lt])])]),nt,s("div",_t,[it,m(s("input",{class:"form-group__input form-group__input--date",type:"text",name:"first-name","onUpdate:modelValue":_[5]||(_[5]=n=>o.value.dateOfBirth=n)},null,512),[[k,o.value.dateOfBirth,void 0,{lazy:!0}]])]),s("div",ct,[s("div",dt,[rt,m(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":_[6]||(_[6]=n=>o.value.email=n)},null,512),[[k,o.value.email]])]),o.value.isConfirmedEmail?V("",!0):(p(),v(A,{key:0},[ut,mt],64))])]),s("button",{class:"button button--orange button--orange-md modal__btn",onClick:_[7]||(_[7]=(...n)=>t(y)&&t(y)(...n))},"Обновить")],40,Jo)])])])]))}},ht=pt,vt=""+globalThis.__publicAssetsURL("images/sticker5@1x.webp"),ft=""+globalThis.__publicAssetsURL("images/sticker5@2x.webp"),bt=""+globalThis.__publicAssetsURL("images/sticker5@1x.jpg"),gt=vt+", "+ft+" 2x",$t={class:"modal modal--sticker",id:"sticker"},xt={class:"modal__body"},kt={class:"modal__content"},yt={class:"modal__title-box"},wt={class:"modal__sticker-box"},Ct={class:"sticker sticker--no-hover modal__sticker"},Tt=s("source",{srcset:gt,type:"image/webp"},null,-1),Ut=["src"],Nt={class:"sticker__text"},Et={class:"modal__wrap"},St={key:0,class:"modal__title"},Lt=s("p",{class:"modal__subtitle"},"Стикер",-1),Mt={class:"modal__title"},Vt={key:2,class:"modal__info-box"},jt=s("svg",{class:"modal__info-box-icon"},[s("use",{"xlink:href":"#info"})],-1),At=s("button",{class:"modal__close js-modal-close"},[s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})])],-1),Dt=["innerHTML"],Ot=s("button",{class:"button button--orange button--orange-md modal__btn js-modal-close"},"Отлично!",-1),Rt={__name:"ModalStiker",setup(w){return(a,o)=>{var i,d,e,l,_,n,$,r;return p(),v("div",null,[s("div",$t,[s("div",xt,[s("div",kt,[s("div",yt,[s("div",wt,[s("figure",Ct,[s("picture",null,[Tt,s("img",{class:"sticker__img",src:bt,alt:""},null,8,Ut)]),s("figcaption",null,[s("p",Nt,T((i=a.$store.state.modal.stikerData)==null?void 0:i.name),1)])]),s("div",Et,[((d=a.$store.state.modal.stikerData)==null?void 0:d.id)>12?(p(),v("h2",St," Поздравляем! Ваш мгновенный приз – "+T((e=a.$store.state.modal.stikerData)==null?void 0:e.name),1)):(p(),v(A,{key:1},[Lt,s("h2",Mt,"«"+T((l=a.$store.state.modal.stikerData)==null?void 0:l.name)+"»",1)],64)),(_=a.$store.state.modal.stikerData)!=null&&_.extraText?(p(),v("div",Vt,[jt,s("p",null,T((n=a.$store.state.modal.stikerData)==null?void 0:n.extraText),1)])):V("",!0)])]),At]),($=a.$store.state.modal.stikerData)!=null&&$.content?(p(),v("div",{key:0,class:"modal__text-block",innerHTML:(r=a.$store.state.modal.stikerData)==null?void 0:r.content},null,8,Dt)):V("",!0),Ot])])])])}}},Bt=Rt,It={},Pt={class:"footer"},Ft={class:"footer__container container"},Ht=N('<div class="footer__text-box"><p class="footer__text"> Общий срок проведения Акции с 20 июля по 12 ноября 2023 года, включая период выдачи призов победителям. <br class="show-desktop">Регистрация кодов осуществляется на promo.orenbeer.ru </p><p class="footer__text">Период покупки и регистрации кодов (далее «период регистрации кодов»): 20.07.2023 - 12.10.2023 года включительно.</p><p class="footer__text">*Будет предоставлен сертификат на приобретение приза. Побрости в Полных правилах акции.</p><p class="footer__text">Призы могут отличаться по внешнему виду от их изображения на сайте и рекламных материалах.</p></div>',1),Jt=s("svg",{class:"button__icon"},[s("use",{"xlink:href":"#button-arrow"})],-1);function qt(w,a){const o=F,i=Ys,d=Re,e=Ao,l=ht,_=Bt;return p(),v("footer",Pt,[s("div",Ft,[Ht,g(o,{class:"button button--gray footer__button",to:"agreement"},{default:U(()=>[h("Полные правила акции "),Jt]),_:1})]),g(i),g(d),g(e),g(l),g(_)])}const zt=z(It,[["render",qt]]),Gt={mounted(){this.isOldUser()||K("/login"),localStorage.getItem("userToken")&&this.login()},methods:{isOldUser(){return localStorage.getItem("isOldUser")},async login(){await this.$store.dispatch("user/loginInToSystem")}}};function Kt(w,a,o,i,d,e){const l=xs,_=zt,n=Y;return p(),v("div",null,[g(l),Q(w.$slots,"default"),g(_),g(n)])}const ea=z(Gt,[["render",Kt]]);export{ea as default};
