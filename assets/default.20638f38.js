import{_ as O}from"./nuxt-link.7d5ab31a.js";import{h as U,i as T,o as h,c as b,a as s,b as v,w as y,d as p,g as o,z as I,t as S,j as N,f,r as $,q as D,k as u,A as C,y as x,F,s as P,v as k,B,x as z,C as j,n as H,D as J}from"./entry.75f30551.js";import{_ as q}from"./logo.63927fde.js";import{c as g}from"./modal.2f64c84b.js";import{_ as R}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as G}from"./Sprite.922e9863.js";const K={class:"header"},Q={class:"header__container container"},W=f('<button class="header__menu-btn" aria-label="Menu"><svg class="header__menu-btn-icon header__menu-btn-icon--burger"><use xlink:href="#burger"></use></svg><svg class="header__menu-btn-icon header__menu-btn-icon--close"><use xlink:href="#close"></use></svg></button>',1),X=s("img",{class:"header__logo",src:q,alt:"alt"},null,-1),Y={class:"header__nav"},Z={class:"header__nav-list"},ss={class:"header__nav-elem"},os={class:"header__nav-elem"},es={class:"header__nav-elem"},ts={class:"header__nav-elem"},as=f('<div class="header__user-nav header__user-nav--active header__user-nav--mobile"><svg class="header__user-icon"><use xlink:href="#user-icon"></use></svg><div class="header__user-nav-box"><p class="header__user-name">Светлана Голубева</p><button class="header__user-logout">Выйти</button></div></div>',1),ls={key:0,class:"header__user-nav","data-modal":"login"},_s=s("a",{class:"header__lk-link",href:"#"},[s("span",{class:"header__lk-link-text"},"Личный кабинет"),s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})])],-1),ns=[_s],is={class:"header__user-nav-box"},cs={class:"header__user-name"},ds=["onClick"],rs=s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})],-1),us={__name:"Header",setup(w){let a=U();const t=()=>{a.dispatch("user/logOutOfTheSystem")},i=T(()=>a.state.user.data.firstName===""?"Имя":a.state.user.data.firstName),c=T(()=>a.state.user.data.lastName===""?"Фамилия":a.state.user.data.lastName);return(e,n)=>{const l=O;return h(),b("header",K,[s("div",Q,[W,v(l,{class:"header__logo-link",to:"/"},{default:y(()=>[X]),_:1}),s("nav",Y,[s("ul",Z,[s("li",ss,[v(l,{class:"header__nav-link",to:"/"},{default:y(()=>[p("Правила и призы")]),_:1})]),s("li",os,[v(l,{class:"header__nav-link",to:"winners"},{default:y(()=>[p("Победители")]),_:1})]),s("li",es,[v(l,{class:"header__nav-link",to:"where-to-buy"},{default:y(()=>[p("Где купить")]),_:1})]),s("li",ts,[v(l,{class:"header__nav-link","data-modal":"feedback"},{default:y(()=>[p("Обратная связь")]),_:1})])]),as]),o(a).state.user.isLogin?(h(),I(l,{key:1,to:"/lk",class:"header__user-nav header__user-nav--active"},{default:y(()=>[s("div",is,[s("p",cs,S(i.value)+" "+S(c.value),1),s("button",{class:"header__user-logout",onClick:N(t,["stop"])},"Выйти",8,ds)]),rs]),_:1})):(h(),b("div",ls,ns))])])}}},ms=us,ps={class:"modal",id:"feedback",ref:"modal"},vs={class:"modal__content"},hs=s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})],-1),bs=s("h2",{class:"modal__title"},"Ваше сообщение успешно отправлено!",-1),gs=s("p",{class:"modal__subtitle"},"Наши менеджеры свяжутся с вами в ближайшее время",-1),fs={class:"modal__content"},xs={class:"modal__content-box"},$s=f('<div class="modal__title-box"><div class="modal__wrap"><h2 class="modal__title">Обратная связь</h2><p class="modal__subtitle"> Есть вопросы? <br class="hide-desktop">Напишите нам, и мы ответим в ближайшее время </p></div><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),ks=["onSubmit"],ws={class:"form-group"},ys=s("p",{class:"form-group__label"},"Тема вопроса",-1),Cs={class:"dropdown",ref:"dropdown"},Es={class:"dropdown__value-box"},Ts=["value"],Us=s("svg",{class:"dropdown__arrow"},[s("use",{"xlink:href":"#dropdown-arrow"})],-1),Ss={class:"dropdown__options-list"},Ns=["data-value","onClick"],Ms=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Ls=s("label",{class:"form-group__label"},"E-mail для ответа",-1),As=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Vs=s("label",{class:"form-group__label"},"Имя Фамилия",-1),js=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Os=s("label",{class:"form-group__label"},"Номер телефона",-1),Bs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Rs=s("label",{class:"form-group__label"},"Ваше сообщение",-1),Is=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Ds=s("span",{class:"checkbox__text"},[p(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),Fs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Объязательное поле",-1),Ps=s("button",{class:"button button--orange button--orange-md"},"Отправить",-1),zs={__name:"ModalFeedback",setup(w){const a=z();let t=$(!1),i=$(null),c=$([]),e=$({selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}});D(()=>{d()});function n(){l()&&fetch(a.public.API_BASE_URL+"/feedback/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({topic_id:e.value.selectTopic.id,email:e.value.email.value,full_name:e.value.name.value,phone:e.value.phone.value,message:e.value.message.value})}).then(async r=>{(await r.json()).success&&(t.value=!0)})}function l(){return e.value.selectTopic.isEmpty=!e.value.selectTopic.id,e.value.email.isEmpty=!e.value.email.value,e.value.name.isEmpty=!e.value.name.value,e.value.phone.isEmpty=!e.value.phone.value,e.value.message.isEmpty=!e.value.message.value,e.value.isConsent.isEmpty=!e.value.isConsent.value,Object.values(e.value).reduce((r,_)=>r&&!_.isEmpty,!0)}function d(){fetch(a.public.API_BASE_URL+"/feedback-topics/").then(async r=>{let _=await r.json();c.value=_.topics})}function E(){setTimeout(()=>{t.value=!1,e.value={selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}},i.value.value="+7"},1e3)}return(r,_)=>(h(),b("div",ps,[s("div",{class:x(["modal__body",{"modal--feedback":!o(t),"modal--success":o(t)}])},[u(s("div",vs,[hs,bs,gs,s("button",{class:"button button--orange button--orange-md modal__btn js-modal-close",onClick:E},"Отлично!")],512),[[C,o(t)]]),u(s("div",fs,[s("div",xs,[$s,s("form",{onSubmit:N(n,["prevent"])},[s("div",{class:x(["modal__wrap",{"form-group--error":o(e).selectTopic.isEmpty}])},[s("div",ws,[ys,s("div",Cs,[s("div",Es,[s("input",{class:"dropdown__value",type:"text",placeholder:"Выберите тему",disabled:"",value:o(e).selectTopic.title},null,8,Ts),Us]),s("ul",Ss,[(h(!0),b(F,null,P(o(c),m=>(h(),b("li",{key:m.id,class:"dropdown__option","data-value":m.title,onClick:Ke=>o(e).selectTopic=m},S(m.title),9,Ns))),128))])],512),Ms]),s("div",{class:x(["form-group",{"form-group--error":o(e).email.isEmpty}])},[Ls,u(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":_[0]||(_[0]=m=>o(e).email.value=m)},null,512),[[k,o(e).email.value]]),As],2),s("div",{class:x(["form-group",{"form-group--error":o(e).name.isEmpty}])},[Vs,u(s("input",{class:"form-group__input",type:"text",name:"name",placeholder:"Введите имя и фамилию","onUpdate:modelValue":_[1]||(_[1]=m=>o(e).name.value=m)},null,512),[[k,o(e).name.value]]),js],2),s("div",{class:x(["form-group",{"form-group--error":o(e).phone.isEmpty}])},[Os,s("input",{ref_key:"telTarget",ref:i,class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:_[2]||(_[2]=m=>{o(e).phone.value=m.target.value})},null,544),Bs],2),s("div",{class:x(["form-group",{"form-group--error":o(e).message.isEmpty}])},[Rs,u(s("textarea",{class:"form-group__input form-group__input--textarea",name:"message","onUpdate:modelValue":_[3]||(_[3]=m=>o(e).message.value=m)},null,512),[[k,o(e).message.value]]),Is],2)],2),s("label",{class:x(["checkbox modal__checkbox form-group",{"form-group--error":o(e).isConsent.isEmpty}])},[u(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":_[4]||(_[4]=m=>o(e).isConsent.value=m)},null,512),[[B,o(e).isConsent.value]]),Ds,Fs],2),Ps],40,ks)])],512),[[C,!o(t)]])],2)],512))}},Hs=zs,M=""+globalThis.__publicAssetsURL("images/modal-img1@1x.webp"),L=""+globalThis.__publicAssetsURL("images/modal-img1@2x.webp"),A=""+globalThis.__publicAssetsURL("images/modal-img1@1x.jpg"),V=""+globalThis.__publicAssetsURL("images/modal-img1@2x.jpg"),Js=M+", "+L+" 2x",qs=V+" 2x",Gs=M+", "+L+" 2x",Ks=V+" 2x",Qs=M+", "+L+" 2x",Ws=V+" 2x",Xs={class:"modal modal--login",id:"login"},Ys={class:"modal__body"},Zs={class:"modal__content modal__content--image-left"},so=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Js,type:"image/webp"}),s("img",{class:"modal__img",src:A,srcset:qs,alt:""})])],-1),oo={class:"modal__content-box"},eo={class:"modal__title-box"},to=s("h2",{class:"modal__title"},"Вход в личный кабинет",-1),ao=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),lo=[ao],_o={class:"modal__wrap"},no={class:"form-group"},io=s("label",{class:"form-group__label form-group__label--center"},"Введите свой номер телефона",-1),co={class:"checkbox modal__checkbox"},ro=s("span",{class:"checkbox__text"},[p(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),uo=["disabled"],mo={class:"modal__content modal__content--image-left"},po=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Gs,type:"image/webp"}),s("img",{class:"modal__img",src:A,srcset:Ks,alt:""})])],-1),vo={class:"modal__content-box"},ho=f('<div class="modal__title-box"><h2 class="modal__title">Вход в личный кабинет</h2><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),bo={class:"modal__wrap"},go={class:"form-group"},fo=s("label",{class:"form-group__label form-group__label--small form-group__label--center"},"Введите код из SMS, который мы отправили 5 секунд назад",-1),xo=["disabled"],$o=s("svg",{class:"modal__button-back-icon"},[s("use",{"xlink:href":"#arrow-back"})],-1),ko={class:"modal__content modal__content--image-left"},wo=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Qs,type:"image/webp"}),s("img",{class:"modal__img",src:A,srcset:Ws,alt:""})])],-1),yo={class:"modal__content-box"},Co={class:"modal__title-box"},Eo=s("h2",{class:"modal__title show-desktop"},"Вход в личный кабинет",-1),To=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Uo=[To],So=s("div",{class:"modal__success-box"},[s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})]),s("p",{class:"modal__success-text"},"Ваш номер телефона подтверждён!")],-1),No={__name:"ModalLogin",setup(w){const a=U();let t=$(""),i=$(""),c=$(!0);function e({target:E}){t.value=E.value}function n(){console.log(123),a.dispatch("user/sendPhoneNumber",t.value)}function l(){a.dispatch("user/checkCode",{phone:t.value,code:i.value})}async function d(){g(),await a.dispatch("user/loginInToSystem")}return(E,r)=>(h(),b("div",null,[s("div",Xs,[s("div",Ys,[u(s("div",Zs,[so,s("div",oo,[s("div",eo,[to,s("button",{class:"modal__close",onClick:r[0]||(r[0]=(..._)=>o(g)&&o(g)(..._))},lo)]),s("div",_o,[s("div",no,[io,s("input",{class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:e},null,32)]),s("label",co,[u(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=_=>j(c)?c.value=_:c=_)},null,512),[[B,o(c)]]),ro])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!(o(t).length===16&&o(c)),onClick:n},"Далее",8,uo)])],512),[[C,o(a).state.user.login.step===1]]),u(s("div",mo,[po,s("div",vo,[ho,s("div",bo,[s("div",go,[fo,u(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Код","onUpdate:modelValue":r[2]||(r[2]=_=>j(i)?i.value=_:i=_)},null,512),[[k,o(i)]])]),s("p",{class:"modal__hint"},[p(" Если код не пришёл, запросите "),s("a",{class:"modal__hint-link",href:"#",onClick:n},"новый код")])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!o(i),onClick:l},"Подтвердить",8,xo),s("button",{class:"modal__button-back",onClick:r[3]||(r[3]=_=>o(a).commit("user/setLoginStep",1))},[$o,p("Изменить телефон ")])])],512),[[C,o(a).state.user.login.step===2]]),u(s("div",ko,[wo,s("div",yo,[s("div",Co,[Eo,s("button",{class:"modal__close",onClick:r[4]||(r[4]=(..._)=>o(g)&&o(g)(..._))},Uo)]),So,s("button",{class:"button button--orange button--orange-md",onClick:d},"Войти ")])],512),[[C,o(a).state.user.login.step===3]])])])]))}},Mo=No,Lo=""+globalThis.__publicAssetsURL("images/modal-img2@1x.webp"),Ao=""+globalThis.__publicAssetsURL("images/modal-img2@2x.webp"),Vo=""+globalThis.__publicAssetsURL("images/modal-img2@1x.jpg"),jo=""+globalThis.__publicAssetsURL("images/modal-img2@2x.jpg"),Oo=Lo+", "+Ao+" 2x",Bo=jo+" 2x",Ro={key:0,class:"modal__body"},Io={class:"modal__content modal__content--image-left"},Do=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:Oo,type:"image/webp"}),s("img",{class:"modal__img",src:Vo,srcset:Bo,alt:""})])],-1),Fo={class:"modal__content-box"},Po={class:"modal__title-box"},zo=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Зарегистрировать код"),s("p",{class:"modal__subtitle"},[p("Ищите код в продукции со знаком"),s("br"),p("«Вкус путешествия с «Крафт»")])],-1),Ho=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Jo=[Ho],qo=f('<div class="modal__wrap"><div class="form-group"><label class="form-group__label form-group__label--center">Код под крышкой</label><input class="form-group__input" type="text" name="code" placeholder="Введите код"></div><p class="modal__hint">Если у вас есть проблемы с регистрацией кодов,<br>пожалуйста, <a class="text-orange" href="#">напишите нам.</a></p></div><button class="button button--orange button--orange-md modal__btn">Отправить</button>',2),Go={key:1,class:"modal__body"},Ko=f('<div class="modal__content"><div class="modal__content-box"><div class="modal__title-box"><div class="modal__wrap"><h2 class="modal__title">Зарегистрировать код</h2><p class="modal__subtitle">Ищите код в продукции со знаком «Вкус путешествия с «Крафт»</p><p class="modal__subtitle"> Если ранее вы принимали участие в акции, то сначала <a class="text-orange" href="#">авторизируйтесь на сайте</a></p></div><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div><div class="modal__wrap"><div class="form-group"><label class="form-group__label">Имя</label><input class="form-group__input" type="text" name="first-name" placeholder="Введите имя"></div><div class="form-group"><label class="form-group__label">Фамилия</label><input class="form-group__input" type="text" name="first-name" placeholder="Введите фамилию"></div><div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div><div class="modal__form-panel"><div class="form-group"><label class="form-group__label">Телефон</label><div class="form-group__row"><input class="form-group__input" type="tel" name="phone" value="+7"><button class="button button--white form-group__confirm-btn">Подтвердить</button></div></div><div class="form-group"><label class="form-group__label form-group__label--small">Введите код из SMS, который мы отправили 5 секунд назад</label><div class="form-group__row"><input class="form-group__input" type="text" name="code" placeholder="Код"><button class="button button--white form-group__confirm-btn">Отправить</button></div></div><p class="modal__hint"> Если код не пришёл, запросите <a class="modal__hint-link" href="#">новый код</a></p></div><div class="modal__form-panel"><div class="form-group"><label class="form-group__label">Email</label><input class="form-group__input" type="email" name="email" placeholder="Введите email"></div><p class="modal__hint modal__hint--yellow">E-mail ещё не подтверждён.</p><p class="modal__hint"> Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите <span class="text-white">+50 баллов.</span></p></div><div class="modal__form-panel modal__form-panel--orange"><div class="form-group"><label class="form-group__label">Код под крышкой</label><input class="form-group__input" type="text" name="code" placeholder="Введите код"></div><p class="modal__hint"> Если вам не приходят коды по смс или есть другие проблемы с регистрацией кодов под крышкой, пожалуйста, <a class="text-orange" href="#">напишите нам</a>. </p></div></div><label class="checkbox modal__checkbox"><input class="checkbox__input" type="checkbox"><span class="checkbox__text"> Даю согласие на обработку <a class="text-orange" href="#">персональных данных</a></span></label><button class="button button--orange button--orange-md modal__btn">Отправить</button></div></div>',1),Qo=[Ko],Wo={__name:"ModalCode",setup(w){let a=U();return(t,i)=>(h(),b("div",{class:x(["modal",{"modal--code":o(a).state.user.isLogin,"modal--register":!o(a).state.user.isLogin}]),id:"code"},[o(a).state.user.isLogin?(h(),b("div",Ro,[s("div",Io,[Do,s("div",Fo,[s("div",Po,[zo,s("button",{class:"modal__close",onClick:i[0]||(i[0]=(...c)=>o(g)&&o(g)(...c))},Jo)]),qo])])])):(h(),b("div",Go,Qo))],2))}},Xo=Wo,Yo={class:"modal modal--user",id:"user"},Zo={class:"modal__body"},se={class:"modal__content"},oe={class:"modal__content-box"},ee={class:"modal__title-box"},te=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Мои данные"),s("p",{class:"modal__subtitle"},"Пожалуйста, введите свои реальные данные, иначе могут быть проблемы при получении призов.")],-1),ae=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),le=[ae],_e=["onSubmit"],ne={class:"modal__wrap"},ie={class:"form-group"},ce=s("label",{class:"form-group__label"},"Имя",-1),de=s("span",{class:"form-group__error-text"},"Текст ошибки",-1),re={class:"form-group"},ue=s("label",{class:"form-group__label"},"Фамилия",-1),me={class:"form-group"},pe=s("p",{class:"form-group__label"},"Пол",-1),ve={class:"form-group__option-row"},he={class:"option"},be=["value"],ge=s("p",{class:"option__text"},[p("Муж "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#male"})])],-1),fe={class:"option"},xe=["value"],$e=s("p",{class:"option__text"},[p("Жен "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#female"})])],-1),ke=f('<div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div>',1),we={class:"form-group mb24"},ye=s("label",{class:"form-group__label"},"Дата рождения",-1),Ce={class:"modal__form-panel"},Ee={class:"form-group"},Te=s("label",{class:"form-group__label"}," Телефон ",-1),Ue={class:"form-group__row"},Se=["value"],Ne=s("button",{class:"button button--white form-group__confirm-btn"},"Подтвердить",-1),Me=f('<div class="form-group"><label class="form-group__label form-group__label--small">Введите код из SMS, который мы отправили 5 секунд назад</label><div class="form-group__row"><input class="form-group__input" type="text" name="code" placeholder="Код"><button class="button button--white form-group__confirm-btn">Отправить</button></div></div><p class="modal__hint"> Если код не пришёл, запросите <a class="modal__hint-link" href="#">новый код</a></p>',2),Le={class:"modal__form-panel"},Ae={class:"form-group"},Ve=s("label",{class:"form-group__label"},"Email",-1),je=s("p",{class:"modal__hint modal__hint--yellow"},"E-mail ещё не подтверждён.",-1),Oe=s("p",{class:"modal__hint"},[p(" Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите "),s("span",{class:"text-white"},"+50 баллов.")],-1),Be={__name:"ModalUser",setup(w){const a=U(),t=$({firstName:"",lastName:"",sex:"",dateOfBirth:"",email:""}),i=T(()=>{if(a.state.user.data.phone){let n=a.state.user.data.phone.split("");return`+${n[0]} ${n[1]}${n[2]}${n[3]} ${n[4]}${n[5]}${n[6]} ${n[7]}${n[8]} ${n[9]}${n[10]}`}else return"-"}),c=T(()=>t.value.dateOfBirth.replaceAll(".","-"));async function e(){await a.dispatch("user/updateUserData",{firstName:t.value.firstName,lastName:t.value.lastName,sex:t.value.sex,dateOfBirth:c.value,email:t.value.email}),await a.dispatch("user/loginInToSystem")}return(n,l)=>(h(),b("div",Yo,[s("div",Zo,[s("div",se,[s("div",oe,[s("div",ee,[te,s("button",{class:"modal__close",onClick:l[0]||(l[0]=(...d)=>o(g)&&o(g)(...d))},le)]),s("form",{onSubmit:N(e,["prevent"])},[s("div",ne,[s("div",ie,[ce,u(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите имя","onUpdate:modelValue":l[1]||(l[1]=d=>t.value.firstName=d)},null,512),[[k,t.value.firstName]]),de]),s("div",re,[ue,u(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите фамилию","onUpdate:modelValue":l[2]||(l[2]=d=>t.value.lastName=d)},null,512),[[k,t.value.lastName]])]),s("div",me,[pe,s("div",ve,[s("label",he,[s("input",{class:"option__input",type:"radio",name:"gender",value:o(a).state.user.data.sex==="man",onChange:l[3]||(l[3]=()=>{t.value.sex="man"})},null,40,be),ge]),s("label",fe,[s("input",{class:"option__input",type:"radio",name:"gender",value:o(a).state.user.data.sex==="woman",onChange:l[4]||(l[4]=()=>{t.value.sex="woman"})},null,40,xe),$e])])]),ke,s("div",we,[ye,u(s("input",{class:"form-group__input form-group__input--date",type:"text",name:"first-name","onUpdate:modelValue":l[5]||(l[5]=d=>t.value.dateOfBirth=d)},null,512),[[k,t.value.dateOfBirth,void 0,{lazy:!0}]])]),s("div",Ce,[s("div",Ee,[Te,s("div",Ue,[s("input",{class:"form-group__input",type:"tel",name:"phone",value:i.value},null,8,Se),Ne])]),Me]),s("div",Le,[s("div",Ae,[Ve,u(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":l[6]||(l[6]=d=>t.value.email=d)},null,512),[[k,t.value.email]])]),je,Oe])]),s("button",{class:"button button--orange button--orange-md",onClick:l[7]||(l[7]=(...d)=>o(g)&&o(g)(...d))},"Обновить")],40,_e)])])])]))}},Re=Be,Ie={},De={class:"footer"},Fe={class:"footer__container container"},Pe=f('<div class="footer__text-box"><p class="footer__text"> Общий срок проведения Акции с 20 июля по 12 ноября 2023 года, включая период выдачи призов победителям. <br class="show-desktop">Регистрация кодов осуществляется на promo.orenbeer.ru </p><p class="footer__text">Период покупки и регистрации кодов (далее «период регистрации кодов»): 20.07.2023 - 12.10.2023 года включительно.</p><p class="footer__text">*Будет предоставлен сертификат на приобретение приза. Побрости в Полных правилах акции.</p><p class="footer__text">Призы могут отличаться по внешнему виду от их изображения на сайте и рекламных материалах.</p></div>',1),ze=s("svg",{class:"button__icon"},[s("use",{"xlink:href":"#button-arrow"})],-1);function He(w,a){const t=O,i=Hs,c=Mo,e=Xo,n=Re;return h(),b("footer",De,[s("div",Fe,[Pe,v(t,{class:"button button--gray footer__button",to:"agreement"},{default:y(()=>[p("Полные правила акции "),ze]),_:1})]),v(i),v(c),v(e),v(n)])}const Je=R(Ie,[["render",He]]),qe={mounted(){this.isOldUser()||H("/login"),localStorage.getItem("userToken")&&this.login()},methods:{isOldUser(){return localStorage.getItem("isOldUser")},async login(){await this.$store.dispatch("user/loginInToSystem")}}};function Ge(w,a,t,i,c,e){const n=ms,l=Je,d=G;return h(),b("div",null,[v(n),J(w.$slots,"default"),v(l),v(d)])}const ot=R(qe,[["render",Ge]]);export{ot as default};
